<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
<script>

let thenable = {
  then(resolve, reject) {
    console.log('in thenable');
    //resolve(100);
  }
};

// resolve是一个普通对象的话那返回的就是本来的promise
// resolves是一个thenable对象的话，或者是一个promise的话，那么返回的就是新的promise，且状态取决于传入的thenable或者promise
let x = new Promise((resolve) => {
   
    resolve(thenable)
}).then(x=>console.log(x))
console.log(x)

/* function async1(){
    console.log('async1 start');
    const p = async2();
    return new Promise((resolve) => {
        Promise.resolve().then(() => {
            p.then(resolve)
        })
    })
    .then(() => {
        console.log('async1 end')
    });
}
    
function async2(){
    console.log('async2');
    return Promise.resolve();
}
    
async1();
    
new Promise((resolve) => {
    console.log(1)
    resolve()
}).then(() => {
    console.log(2)
}).then(() => {
    console.log(3)
}).then(() => {
    console.log(4)
})
 */

</script>
</html>