## å¦‚ä½•è®¾ç½®å…¨å±€æ»šåŠ¨æ¡é«˜åº¦


scrollToè·ŸscrollByçš„å‚æ•°æ˜¯ä¸€æ ·çš„ï¼ŒåŒºåˆ«å°±æ˜¯scrollByæ»šåŠ¨è·ç¦»æ˜¯ç›¸å¯¹ä¸å½“å‰æ»šåŠ¨æ¡ä½ç½®è¿›è¡Œæ»šåŠ¨
```

// 1 scrollTo
window.scrollTo(0, 0);

// or
window.scrollTo({
  left: 0,
  top: 100
});

// 2 scrollByç›¸å¯¹æ»šåŠ¨è®¾ç½®
window.scrollBy(0, 0);

// or
window.scrollBy({
  left: 0,
  top: 100
});

// 3 scrollTop
document.scrollingElement.scrollTop = 100;


```

## å¦‚ä½•æŒ‡å®šä¸€ä¸ªå…ƒç´ æ˜¾ç¤ºåœ¨è§†çª—

ä»£ç å»è‡ªåŠ¨æ»‘åŠ¨offsetTopçš„è·ç¦»
```
// è·å–å…ƒç´ çš„offsetTop(å…ƒç´ è·ç¦»æ–‡æ¡£é¡¶éƒ¨çš„è·ç¦»)
let offsetTop = document.querySelector(".box").offsetTop;

// è®¾ç½®æ»šåŠ¨æ¡çš„é«˜åº¦
window.scrollTo(0, offsetTop);

```

å«Œéº»çƒ¦å¯ä»¥ç”¨é”šç‚¹
```
<a href="#box">ç›’å­å‡ºç°åœ¨é¡¶éƒ¨</a>
<div id="box"></div>
```
æˆ–è€…åˆ©ç”¨scrollIntoViewè¿›è¡Œå±•ç°ï¼š
```
document.querySelector(".box").scrollIntoView();

// startå‡ºç°åœ¨è§†å£é¡¶éƒ¨ã€centerå‡ºç°åœ¨è§†å£ä¸­å¤®ã€endå‡ºç°åœ¨è§†å£åº•éƒ¨
document.querySelector(".box").scrollIntoView({
  block: "start" || "center" || "end",
  behavior: "smooth" // på¹³æ»‘æ»‘åŠ¨
});


```

## æ»šåŠ¨åˆ°åº•éƒ¨

```
window.scrollTo({
  left: 0,
  top: document.scrollingElement.scrollHeight
});

// å¦‚æœä½ å®åœ¨æ˜¯æ‡’çš„è¯...
window.scrollTo(0, 999999);

```
åˆ¤æ–­æµè§ˆå™¨å·²æ»šåŠ¨åˆ°åº•éƒ¨
```
window.addEventListener("scroll", () => {
  let {
    scrollTop,
    scrollHeight,
    clientHeight
  } = document.scrollingElement;
  
  // å½“å‰æ»šåŠ¨é«˜åº¦ + è§†å£é«˜åº¦ >= æ–‡æ¡£æ€»é«˜åº¦
  if (scrollTop + clientHeight >= scrollHeight) {
    console.log("å·²åˆ°è¾¾åº•éƒ¨");
  }
});

```
## scrollingElement

è¯¥å¯¹è±¡å¯ä»¥éå¸¸å…¼å®¹åœ°è·å–scrollTopã€scrollHeightç­‰å±æ€§ï¼Œåœ¨ç§»åŠ¨ç«¯è·ŸPCç«¯éƒ½å±¡è¯•ä¸çˆ½ğŸ¤

è¿˜è®°å¾—å½“åˆå†™è¿™ä¸ªå…¼å®¹æ€§æ–¹æ³•ï¼š

```
let scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight;

```

ç°åœ¨ä½ åªéœ€è¦ï¼š
```
let scrollHeight = document.scrollingElement.scrollHeight; // scrollingElementæ ‡å‡†æ¨¡å¼è¿”å›documentElementï¼Œæ€ªå¼‚æ¨¡å¼è¿”å›bodyï¼›
```

## scroll äº‹ä»¶å¯¹è±¡

è¿™ä¸ªeventå¯¹è±¡æœ‰scrollingElementçš„ç‰¹æ€§